
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <link rel="shortcut icon" href="/cbs-ide/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/cbs-ide/assets/css/just-the-docs-default.css">
    <script type="text/javascript" src="/cbs-ide/assets/js/vendor/lunr.min.js"></script>
  <script type="text/javascript" src="/cbs-ide/assets/js/just-the-docs.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Validation | CBS IDE User Guide</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Validation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="User guide for the prototype CBS IDE" />
<meta property="og:description" content="User guide for the prototype CBS IDE" />
<link rel="canonical" href="https://plancomps.github.io/cbs-ide/docs/validation/" />
<meta property="og:url" content="https://plancomps.github.io/cbs-ide/docs/validation/" />
<meta property="og:site_name" content="CBS IDE User Guide" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Validation" />
<script type="application/ld+json">
{"description":"User guide for the prototype CBS IDE","url":"https://plancomps.github.io/cbs-ide/docs/validation/","@type":"WebPage","headline":"Validation","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
</head>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>
  <script type="text/javascript" src="/cbs-ide/assets/js/toggle_init.js"></script>
  <div class="side-bar">
    <div class="site-header">
      <a href="/cbs-ide/" class="site-title lh-tight">
  CBS IDE User Guide
</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      <ul class="nav-list"><li class="nav-list-item"><a href="/cbs-ide/docs/" class="nav-list-link">Overview</a></li>
<li class="nav-list-item"><a href="/cbs-ide/docs/installation/" class="nav-list-link">Installation</a></li>
<li class="nav-list-item"><a href="/cbs-ide/docs/interface/" class="nav-list-link">Interface</a></li>
<li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/cbs-ide/docs/specification/" class="nav-list-link">Specification</a><ul class="nav-list"><li class="nav-list-item"><a href="/cbs-ide/docs/specification/cd-1.html" class="nav-list-link">CD-1</a></li>
<li class="nav-list-item"><a href="/cbs-ide/docs/specification/cd-2.html" class="nav-list-link">CD-2</a></li>
</ul>
</li>
<li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/cbs-ide/docs/validation/" class="nav-list-link active">Validation</a><ul class="nav-list"><li class="nav-list-item"><a href="/cbs-ide/docs/validation/cd-1.html" class="nav-list-link">CD-1</a></li>
<li class="nav-list-item"><a href="/cbs-ide/docs/validation/cd-2.html" class="nav-list-link">CD-2</a></li>
</ul>
</li>
<li class="nav-list-item"><a href="/cbs-ide/docs/formatting/" class="nav-list-link">Formatting</a></li>
<li class="nav-list-item"><a href="/cbs-ide/docs/issues/" class="nav-list-link">Issues</a></li>
</ul>
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CBS IDE User Guide" aria-label="Search CBS IDE User Guide" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
              <li class="aux-nav-list-item">
                <a href="//github.com/plancomps/cbs-ide/tree/main/CBS-Guide" class="site-button"
                >
                  CBS-Guide sources
                </a>
              </li>
          </ul>
        </nav>
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
<nav class="nav-rel">
    <a href="/cbs-ide/docs/specification/" class="nav-rel-link">&larr;</a>
    <a href="/cbs-ide/docs/formatting/" class="nav-rel-link">&rarr;</a>
</nav>
      <div id="main-content" class="main-content" role="main">
          <h1 id="validation">
          <a href="#validation" class="anchor-heading" aria-labelledby="validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Validation
      </h1>
<p>This page illustrates how to validate a language specification
by generating a translator from programs to funcons,
and checking the outcomes of executing translations of test programs.</p>
      <h2 id="generate-an-editor-and-translator">
          <a href="#generate-an-editor-and-translator" class="anchor-heading" aria-labelledby="generate-an-editor-and-translator"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generate an editor and translator
      </h2>
<p>You should <a href="/cbs-ide/docs/specification/#specify-your-language">specify your language</a> before proceeding with the following steps.</p>
      <h3 id="create-an-editor-project">
          <a href="#create-an-editor-project" class="anchor-heading" aria-labelledby="create-an-editor-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create an editor project
      </h3>
<ol>
  <li>
    <p>Create a <em>Spoofax language project</em> named <code class="language-plaintext highlighter-rouge">CD-Editor</code> with the following settings:</p>
    <dl>
      <dt>Project name</dt>
      <dd><code class="language-plaintext highlighter-rouge">CD-Editor</code></dd>
      <dt>Use default location</dt>
      <dd>unchecked</dd>
      <dt>Location</dt>
      <dd><code class="language-plaintext highlighter-rouge">YOUR-PATH-TO/My-Languages/CBS-Demo</code></dd>
      <dt>Identifier</dt>
      <dd><code class="language-plaintext highlighter-rouge">CD-Editor</code> (<em>not</em> <code class="language-plaintext highlighter-rouge">CDEditor</code>!)</dd>
      <dt>Name</dt>
      <dd><code class="language-plaintext highlighter-rouge">CD</code> (<em>not</em> <code class="language-plaintext highlighter-rouge">CD-Editor</code>!)</dd>
      <dt>Version</dt>
      <dd>(e.g.) <code class="language-plaintext highlighter-rouge">0.1.0-SNAPSHOT</code></dd>
      <dt>Group identifier</dt>
      <dd>(e.g.) <code class="language-plaintext highlighter-rouge">org.example</code></dd>
      <dt>Extensions</dt>
      <dd><code class="language-plaintext highlighter-rouge">cd</code></dd>
    </dl>
    <p>and the following <em>language options</em> settings:</p>
    <dl>
      <dt>Syntax type</dt>
      <dd><code class="language-plaintext highlighter-rouge">SDF3</code></dd>
      <dt>Analysis type</dt>
      <dd><code class="language-plaintext highlighter-rouge">NaBL2 (deprecated)</code></dd>
    </dl>
    <p>The optional <em>generation options</em> settings determine whether extra projects
will be created, e.g., for examples and automated tests</p>
  </li>
  <li>
    <p>Open the <code class="language-plaintext highlighter-rouge">Console</code> view in Eclipse (<code class="language-plaintext highlighter-rouge">Window: Show View: Other...</code>).</p>
  </li>
  <li>
    <p>Click on <code class="language-plaintext highlighter-rouge">Finish</code> to create the language project. 
It can take about a minute. The progress is logged in the Spoofax Console.</p>
  </li>
</ol>
      <h3 id="generate-the-editor-and-translator-implementation">
          <a href="#generate-the-editor-and-translator-implementation" class="anchor-heading" aria-labelledby="generate-the-editor-and-translator-implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generate the editor and translator implementation
      </h3>
<p>Next, use the CBS IDE to generate Spoofax meta-language files in the CD-Editor project.</p>
<blockquote class="note">
  <p>Eclipse may initially flag various errors and warnings in the generated files.
The errors should all disappear when the <code class="language-plaintext highlighter-rouge">CD-Editor</code> project has been successfully built;
some warnings (e.g., about overloaded constructors in SDF3 files) may remain, but can be ignored.</p>
</blockquote>
<ol>
  <li>
    <p>Clean the <code class="language-plaintext highlighter-rouge">CD-cbs</code> project</p>
  </li>
  <li>
    <p>Open <code class="language-plaintext highlighter-rouge">CD-cbs/CD/CD-Start/CD-Start.cbs</code></p>
  </li>
  <li>
    <p>Select <code class="language-plaintext highlighter-rouge">Spoofax: Generate: Language editor</code></p>
    <p>The Spoofax console window should report something like the following:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Generating CD-Start components...
- Generating CD-Start
- Finished
</code></pre></div>    </div>
  </li>
</ol>
<p>(Ignore errors regarding <code class="language-plaintext highlighter-rouge">LanguageIdentifierService</code>.)</p>
<p>The <code class="language-plaintext highlighter-rouge">CD-Editor</code> project should now include the following files:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```
editor
- Menus.esv
lib
- StrategoMix.def
syntax
- Funcons.sdf3
- Stratego-CD.sdf
- cbs-gen
  - CD-Start.sdf3
trans
- generate.meta
- generate.str
- cbs-gen
  - CD-Start.meta
  - CD-Start.str
```
</code></pre></div></div>
<blockquote class="note">
  <p>Do not edit the files generated by the CBS IDE</p>
</blockquote>
<ol>
  <li>
    <p>Update the following files generated by Spoofax:</p>
    <ul>
      <li>Edit <code class="language-plaintext highlighter-rouge">editor/Main.esv</code> to import first <code class="language-plaintext highlighter-rouge">Menus</code></li>
      <li>Edit <code class="language-plaintext highlighter-rouge">trans/cd.str</code> to import the generated Stratego module <code class="language-plaintext highlighter-rouge">generate</code></li>
      <li>Delete the file <code class="language-plaintext highlighter-rouge">syntax/Common.sdf3</code>, which is not used by CBS</li>
    </ul>
  </li>
  <li>
    <p>Clean the <code class="language-plaintext highlighter-rouge">CD-Editor</code> project</p>
    <p>(Ignore any warnings or error reports regarding files in  <code class="language-plaintext highlighter-rouge">src-gen/ds-signatures</code>)</p>
  </li>
  <li>
    <p>Build the <code class="language-plaintext highlighter-rouge">CD-Editor</code> project</p>
    <p>It may take about a minute.
The console should not show any warnings or error reports.</p>
  </li>
</ol>
      <h2 id="create-a-project-with-some-test-programs">
          <a href="#create-a-project-with-some-test-programs" class="anchor-heading" aria-labelledby="create-a-project-with-some-test-programs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create a project with some test programs
      </h2>
<ol>
  <li>Create a <em>general project</em> named <code class="language-plaintext highlighter-rouge">CD-Tests</code> in <code class="language-plaintext highlighter-rouge">CBS-Demo</code></li>
  <li>Check that the <code class="language-plaintext highlighter-rouge">Spoofax (meta)</code> menu indicates that analysis is enabled</li>
  <li>Add the <em>Spoofax nature</em> to the <code class="language-plaintext highlighter-rouge">CD-Tests</code> project:
    <ol>
      <li>Right-click on the project</li>
      <li>Select <code class="language-plaintext highlighter-rouge">Spoofax: Add Spoofax nature</code></li>
    </ol>
  </li>
  <li>Create a folder named <code class="language-plaintext highlighter-rouge">CD-1</code> in the <code class="language-plaintext highlighter-rouge">CD-Tests</code> project</li>
  <li>Create the following files in the <code class="language-plaintext highlighter-rouge">CD-1</code> folder:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">int.cd</code>:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>42
</code></pre></div>        </div>
      </li>
      <li><code class="language-plaintext highlighter-rouge">identity.cd</code>:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let f = lambda x. x in (f(42))
</code></pre></div>        </div>
      </li>
      <li><code class="language-plaintext highlighter-rouge">let.cd</code>:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let m = 42 in
let n = m in
n
</code></pre></div>        </div>
      </li>
      <li><code class="language-plaintext highlighter-rouge">ski.cd</code>:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let s = lambda x. lambda y. lambda z. (x(z)(y(z))) in
let k = lambda x. lambda y. x in
let i = lambda x. x in
(s(s(k(s))(k)))
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>Clean the <code class="language-plaintext highlighter-rouge">CD-Tests</code> project</li>
  <li>Check that:
    <ol>
      <li>There are no parse errors or ambiguities</li>
      <li>CD keywords are highlighted</li>
    </ol>
  </li>
</ol>
      <h2 id="translate-programs-to-funcons">
          <a href="#translate-programs-to-funcons" class="anchor-heading" aria-labelledby="translate-programs-to-funcons"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Translate programs to funcons
      </h2>
<ol>
  <li>Focus on the <code class="language-plaintext highlighter-rouge">int.cd</code> editor window</li>
  <li>Select <code class="language-plaintext highlighter-rouge">Spoofax: Generation: Generate funcons</code></li>
  <li>Check that the generated file <code class="language-plaintext highlighter-rouge">int.fct</code> contains:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>initialise-binding finalise-failing decimal
  "42"
</code></pre></div>    </div>
  </li>
  <li>Generate funcons for all the other programs in <code class="language-plaintext highlighter-rouge">CD-Tests</code></li>
</ol>
      <h2 id="add-a-funcon-interpreter">
          <a href="#add-a-funcon-interpreter" class="anchor-heading" aria-labelledby="add-a-funcon-interpreter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add a funcon interpreter
      </h2>
<ol>
  <li><a href="/cbs-ide/docs/installation/#funcon-interpreters">Install the funcons-tools package</a></li>
  <li>Select <code class="language-plaintext highlighter-rouge">Run: External Tools: External Tools Configurations...</code></li>
  <li>
    <p>Click <code class="language-plaintext highlighter-rouge">New launch configuration</code> then enter the following settings:</p>
    <dl>
      <dt>Name</dt>
      <dd><code class="language-plaintext highlighter-rouge">Run funcons</code></dd>
      <dt>Main</dt>
      <dd>Location: <code class="language-plaintext highlighter-rouge">YOUR-PATH-TO/runfct</code></dd>
      <dd>Arguments: <code class="language-plaintext highlighter-rouge">${resource_loc}</code></dd>
      <dt>Build</dt>
      <dd>Build before launch: unchecked</dd>
    </dl>
    <p>Click <code class="language-plaintext highlighter-rouge">Apply</code> then <code class="language-plaintext highlighter-rouge">Close</code></p>
  </li>
  <li>
    <p>Select <code class="language-plaintext highlighter-rouge">Run: External Tools: Organize Favorites...</code></p>
    <ol>
      <li>Click <code class="language-plaintext highlighter-rouge">Add</code></li>
      <li>Select <code class="language-plaintext highlighter-rouge">Run funcons</code></li>
      <li>Click <code class="language-plaintext highlighter-rouge">OK</code></li>
    </ol>
    <p>Click <code class="language-plaintext highlighter-rouge">OK</code></p>
  </li>
</ol>
      <h2 id="execute-funcon-terms">
          <a href="#execute-funcon-terms" class="anchor-heading" aria-labelledby="execute-funcon-terms"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execute funcon terms
      </h2>
<ol>
  <li>Focus on the <code class="language-plaintext highlighter-rouge">int.fct</code> editor window</li>
  <li>Select <code class="language-plaintext highlighter-rouge">Run: External Tools: Run funcons</code></li>
  <li>Check that the Spoofax console reports:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Result:
42
</code></pre></div>    </div>
  </li>
  <li>Execute the funcons for all the other programs in <code class="language-plaintext highlighter-rouge">CD-Tests</code></li>
</ol><hr />
          <hr>
  <p class="nav-rel">
      <a href="/cbs-ide/docs/specification/" class="nav-rel-link">&larr;</a>
      <a href="/cbs-ide/docs/formatting/" class="nav-rel-link">&rarr;</a>
  </p>
<h2 class="text-delta">Table of contents</h2>
  <ul><li>
        <a href="/cbs-ide/docs/validation/cd-1.html">CD-1</a></li><li>
        <a href="/cbs-ide/docs/validation/cd-2.html">CD-2</a></li></ul>
          <hr>
          <footer>
            <a href="https://github.com/plancomps/cbs-beta-tools/issues" class="fs-2">cbs-beta-tools reported issues</a>
          </footer>
      </div>
    </div>
      <div class="search-overlay"></div>
  </div>
  <script type="text/javascript" src="/cbs-ide/assets/js/toggle_mode.js"></script>
</body>
</html>
